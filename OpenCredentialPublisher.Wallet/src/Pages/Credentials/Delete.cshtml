@page
@model OpenCredentialPublisher.ClrWallet.Pages.Clrs.DeleteModel

@{
    ViewData["Title"] = "Delete CLR";
}

<div class="row mt-5">
    <div class="col">
        <section class="default-container p-5">
            <h1>Delete CLR</h1>

            <div class="alert alert-primary">
                A Comprehensive Learner Record (CLR) is a record of your curricular and non-curricular learning achievements.
                Each CLR comes from a single publisher (such as your school) and contains one or more of your achievements.
            </div>
            <div class="alert alert-danger">
                If you delete this CLR, all the associated links will stop working.
                This will <b>not</b> cause the source platform to delete this CLR and you can get it back by refreshing the
                source.
            </div>

            <div asp-validation-summary="ModelOnly" class="alert alert-danger mt-2"></div>

            @if (Model.Clr != null)
            {
                <h3>Are you sure you want to delete this CLR?</h3>
                <div>
                    <hr />
                    <dl class="row">
                        <dt class="col-sm-2">Source</dt>
                        <dd class="col-sm-10">
                            @if (Model.Clr.Authorization == null)
                            {
                                <span>Uploaded @Model.Clr.RefreshedAt</span>
                            }
                            else
                            {
                                @Html.DisplayFor(model => model.Clr.Authorization.Source.Name)
                                <span>(<a href="@Model.Clr.Authorization.Source.Url">@Model.Clr.Authorization.Source.Url</a>)</span>
                            }
                        </dd>
                        <dt class="col-sm-2">Publisher</dt>
                        <dd class="col-sm-10">@Html.DisplayFor(model => model.Clr.PublisherName)</dd>
                        <dt class="col-sm-2">Published</dt>
                        <dd class="col-sm-10">@Html.DisplayFor(model => model.Clr.IssuedOn)</dd>
                        <dt class="col-sm-2">Name</dt>
                        <dd class="col-sm-10">@Html.DisplayFor(model => model.Clr.Name)</dd>
                    </dl>

                    <form method="post">
                        <input type="submit" value="Delete" class="btn btn-danger" /> |
                        <a asp-page="./Index">Back to List of CLRs</a>
                    </form>
                </div>
            }
            else
            {
                <a asp-page="./Index">Back to Your CLRs</a>
            }
        </section>
    </div>
</div>